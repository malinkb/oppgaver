---
title: 'Місячний модуль'
level: 4
author: 'Geir Arne Hjelle'
translator: 'Анатолій Пилипенко'
language: ua
---


# Вступ {.intro}

"Місячний модуль" (Lunar Lander) була розроблена наприкінці 1970-х років. Метою гри є посадка космічного корабля на Місяць. Керування космічним кораблем було продовжено у грі "Астероїди", яка вийшла наступного року.

![Illustrasjon av et ferdig Lunar Lander spill](lunar_lander_ua.png)


# Огляд проєкту {.activity}

*Більшу частину кодування "Місячний модуль" будете виконувати ви. Зокрема, в "Місячний модуль" ми витратимо деякий час на те, щоб зробити фізичне моделювання космічного корабля досить реалістичним.*

## План {.check}

- [ ] Літаючий космічний корабель

- [ ] Ми прибуваємо на Місяць

- [ ] Готові до посадки

- [ ] Обмежене паливо, кілька посадочних майданчиків та інші виклики


# Крок 1: Літаючий космічний корабель {.activity}

Зараз ми запрограмуємо космічний корабель, який буде літати по екрану. Для керування рухом ми будемо використовувати дві змінні: `швидкістьX`{.blockdata} та
`швидкістьY`{.blockdata}, які описують швидкість руху корабля з боку в бік та вгору-вниз відповідно. Використовуючи обидві змінні одночасно, космічний корабель зможе рухатися в будь-якому напрямку.

Складність програмування гри полягає в тому, що космічний корабель може обертатися незалежно від того, в якому напрямку він насправді летить. Коли гравець натискає стрілку вгору, щоб задіяти двигун, ми хочемо надати космічному кораблю додаткову швидкість у напрямку, на який він вказує. Це означає, що нам потрібно розподілити швидкість у напрямку руху космічного корабля таким чином, щоб визначити, яку частину швидкості він отримує у бік, а яку - вгору або вниз.

На перший погляд, це може здатися трохи складним, але це саме те, що роблять 
математичні функції `синус` і `косинус`. Наприклад, у функції нижче `косинус(кут)` показує нам, наскільки довшою є горизонтальна лінія по відношенню до похилої.

![Viser sammenhengen mellom vinkel, cosinus og sinus](sinus_cosinus_ua.png)

## Контрольний список {.check}

- [ ] Почніть новий проєкт. Видаліть символ кота.

- [ ] Додайте персонажа космічного корабля. Не соромтеся використовувати `Усі/Rocketship`.

- [ ] Зробіть космічний корабель зовсім маленьким. Наприклад, ви можете використати

  ```blocks
  задати розмір (20)
  ```

  одразу після натискання зеленого прапорця.

- [ ] Створіть дві нові змінні, `швидкістьX`{.blockdata} та `швидкістьY`{.blockdata}, які застосовуються лише до цієї фігури космічного корабля.
- [ ] Спочатку створюємо основний цикл, який дозволяє космічному апарату падати під дією лише сили тяжіння. Напишіть цей код:

  ```blocks
  коли я отримую [Нова гра v]
  перемістити в x: (0) y: (175)
  повернути в напрямку (90 v)
  надати [швидкістьX v] значення [0]
  надати [швидкістьY v] значення [0]
  завжди
      змінити [швидкістьY v] на (-0.01)
      змінити x на (швидкістьX)
      змінити y на (швидкістьY)
  slutt
  ```

  Якщо ви спробуєте запустити гру зараз, космічний корабель повинен падати все швидше і швидше вниз по екрану. Спробуйте змінити щось у блоці

  ```blocks
  змінити [швидкість v] на (-0.01)
  ```

  Саме він моделює силу гравітації. Якщо ви зміните значення тут, космічний корабель буде падати швидше або повільніше, або навіть може впасти вгору, якщо залишити гравітацію з плюсом.

- [ ] Тепер ми запрограмуємо керування космічним кораблем. Перш за все, ми хочемо, щоб корабель повертався, коли ми натискаємо клавіші зі стрілками вправо та вліво.

  Додайте два блоки `якщо`{.blockcontrol} всередині циклу `завжди`{.blockcontrol} де ви `повертаєте`{.blockmotion} космічний корабель, наприклад, на `5` градусів праворуч або ліворуч, залежно від того, яку клавішу зі стрілкою натиснуто.

- [ ] Коли натиснута клавіша зі стрілкою вгору, ми хочемо, щоб космічний апарат набрав трохи більшої швидкості в напрямку, на який він вказує. Як ми вже говорили раніше, для цього ми можемо використати математичні функції синус і косинус. Також додайте цей блок всередину вашого циклу `завжди`{.blockcontrol}.

  ```blocks
  якщо <клавішу [стрілка в гору v] натиснуто?> то
      замінити [швидкістьX v] на ((0) - ([cos v] з (напрям)))
      замінити [швидкістьY v] на ([sin v] з (напрям))
  slutt
  ```

  Ви знайдете функції синуса і косинуса як варіанти на вибір у блоці

  ```blocks
  ([sqrt v] з (9))
  ```

  Нам потрібно використовувати
 `((0) - ([cos v] з (напрям)))`{.b} замість `([cos v] з
  (напрям))`{.b} тому що `напрям`{.blockmotion} у Scratch вимірюються у протилежний спосіб від того, як кути вимірюються у математиці.

- [ ] Спробуй свою гру. Чи можете ви керувати космічним кораблем по екрану? Якщо вам здається, що космічний корабель рухається надто швидко або повільно, ви можете відрегулювати блоки `швидкості`{.blockdata}, наприклад, ось так,

  ```blocks
  замінити [швидкістьX v] на ((0.3) * ((0) - ([cos v] з (напрям))))
  замінити [швидкістьY v] на ((0.3) * ([sin v] з (напрям)))
  ```

  Переконайтеся, що ви налаштували обидва блоки на однакове число.


# Крок 2: Ми прибуваємо на Місяць {.activity}

*Тепер ми додамо місячний пейзаж, де гравець намагатиметься приземлитися.*

## Контрольний список {.check}

- [ ] Створіть новий фон, на якому намалюйте відповідний місячний пейзаж. Зробіть його настільки простим або складним, наскільки вам подобається. Також намалюйте один або кілька посадкових майданчиків, де приземлиться космічний корабель. Пізніше ми будемо використовувати `торкається кольору`{.blocksensing} блоки для перевірки посадки, тому найпростіше використовувати один колір для ландшафту, а інший - для місця посадки.

- [ ] Щоб змусити космічний корабель припинити політ, коли він впаде на землю, ви можете замінити цикл
  `завжди`{.blockcontrol} на цикл `повторити до`{.blockcontrol}, в якому ви перевіряєте, чи `торкається кольору`{.blocksensing} космічний корабель, який ви застосували до ландшафту або місця приземлення.

- [ ] Також додайте `оповістити [Перевірте посадку v]`{.b} одразу після `повторити до`{.blockcontrol}.

- [ ] Спробуйте ще раз. Тепер у вас має вийти літати навколо, поки космічний корабель не наблизиться до землі.


# Крок 3: Готовність до посадки {.activity}

*Ми нарешті перевіримо, де і як приземлився космічний апарат.*

## Контрольний список {.check}

- [ ] Коли ми перевіряємо приземлення космічного апарату, ми будемо розрізняти три різні випадки:

  __1__: Космічний апарат приземлився за межами посадкового майданчика (розбився).

  __2__: Космічний апарат приземлився на посадковому майданчику, але приземлився під кутом (або догори дном) або занадто швидко.

  __3__: Космічний апарат ідеально приземлився на посадковому майданчику.

  Створіть новий скрипт на космічному кораблі, який запускається, коли він отримує повідомлення `Перевірте посадку`. Під цим блоком вам потрібно використовувати блоки `якщо`{.blockcontrol} та `якщо-інакше`{.blockcontrol}, які перевіряють три випадки. Наприклад, ви можете сказати, що посадка пройшла ідеально, якщо апарат приземлився на посадковий майданчик, `швидкістьY`{.blockdata} більше `-1.5`, а напрямок знаходиться в межах від `80` до `100`.

- [ ] Знайдіть спосіб розповісти гравцеві, як космічний корабель приземлився. Найпростішим способом може бути просто використання блоку `говомрити`{.blocklooks}. Але ви також можете використовувати звукові ефекти, різні костюми або, можливо, текстовий плакат, що спливає.


# Крок 4: Подальший розвиток гри {.activity}

*Ви створили просту версію "Місячний модуль". Але спробуйте зробити гру ще цікавішою, розвиваючи її далі. Вам вирішувати, як ви хочете діяти далі, але нижче наведено кілька ідей, які можуть вас надихнути.*

## Ідеї для подальшого розвитку {.check}

- [ ] Створіть кілька посадкових майданчиків. Можливо, на деякі з них буде складніше приземлитися, ніж на інші (або через рельєф місцевості, або через те, що сам посадочний майданчик менший).

- [ ] Створіть кілька фонів або дощок. Ви можете дозволити гравцеві вибрати фон для гри на початку гри або переходити від дошки до дошки, коли гравцеві вдасться приземлитися.

- [ ] Ви також можете використовувати кілька фонів як лоток. Якщо космічний корабель вилітає з екрана праворуч, ви можете зробити так, щоб він знову з'явився ліворуч на іншому тлі, і навпаки.

- [ ] Однією з проблем оригінальної гри Lunar Lander було те, що гравець мав лише обмежену кількість пального. Ви можете додати це у свою гру, створивши змінну `паливо`{.blockdata}, яка зменшуватиметься, коли гравець натискатиме клавіші зі стрілками. Якщо у космічного корабля закінчується паливо, ви можете ігнорувати натискання клавіш гравця і просто дозволити кораблю летіти, поки він нарешті не розіб'ється.

- [ ] Ви можете створити різні бонусні предмети для гравця, які він зможе підібрати. Щоб трохи ускладнити завдання, ви можете залишити їх на поверхні Місяця, щоб гравцеві довелося ретельно маневрувати, щоб підібрати їх. Прикладами таких бонусів можуть бути додаткове паливо, бонусні бали, більший посадковий майданчик тощо.

- [ ] Серйозною зміною в грі може бути те, що на початку гри посадковий майданчик захований під землею, і гравець повинен відкопати його, скидаючи бомби з космічного корабля.
